{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport md5 from 'md5';\nconst useSystem_Users = _ref => {\n  _s();\n  let {\n    server,\n    user,\n    password,\n    startingSesion\n  } = _ref;\n  console.log('RENDERING useSystem_Users');\n  const [value, setValue] = useState({\n    server: server,\n    user: user,\n    password: password,\n    startingSesion: startingSesion,\n    userData: undefined\n  });\n  const handleValue = (property, v) => {\n    setValue({\n      ...value,\n      [property]: v\n    });\n  };\n  const manageCredentials = async credentials => {\n    const userData = await callSystem_Users(value.server, credentials.user, credentials.password);\n    setValue({\n      ...value,\n      ['user']: credentials.user,\n      ['password']: credentials.password,\n      ['userData']: userData\n    });\n    console.log(userData);\n    if (userData === undefined || userData.length === 0) {\n      setValue({\n        ...value,\n        ['credentialsFail']: true,\n        ['credentialsFail2']: true,\n        ['buttonPushed']: true\n      });\n    } else {\n      setValue({\n        ...value,\n        ['credentialsFail']: false,\n        ['credentialsFail2']: false,\n        ['buttonPushed']: false\n      });\n      window.location.href = './main';\n      console.log('LOGIN OKKKK');\n    }\n  };\n  return [value, manageCredentials, handleValue];\n};\n\n//OTHER FUNCTION\n_s(useSystem_Users, \"vIA/t75M+r/upGM2+l3XoaTI/RA=\");\nconst callSystem_Users = async (server, user, password, startingSesion) => {\n  let userData = undefined;\n  console.log('***********************************');\n  console.log('DENTRO DE callSystem_Users');\n  console.log(`SERVER: ${server}`);\n  console.log(`USER: ${user}`);\n  console.log(`PASSWORD: ${password}`);\n  console.log(`STARTINGSESION: ${startingSesion}`);\n  if (user.length != 0 && password.length != 0) {\n    const md5Password = md5(password);\n    try {\n      const response = await fetch(`${server}/System_Users/${user}/${md5Password}`, {\n        //headers: {\n        //'Content-Type': 'application/json',\n        //},\n        method: 'GET'\n        //mode: 'no-cors'\n      });\n\n      userData = await response.json();\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  console.log('SALIENDO DE callSystem_Users');\n  console.log('***********************************');\n  return userData;\n};\nexport default useSystem_Users;","map":{"version":3,"names":["useState","md5","useSystem_Users","server","user","password","startingSesion","console","log","value","setValue","userData","undefined","handleValue","property","v","manageCredentials","credentials","callSystem_Users","length","window","location","href","md5Password","response","fetch","method","json","error"],"sources":["/Users/jm/Documents/Workspace/React/Projects/IT_Inventory_PCUN_Frontend/src/api/useSystem_Users.js"],"sourcesContent":["import { useState } from 'react';\nimport md5 from 'md5';\n\nconst useSystem_Users = ({ server, user, password, startingSesion }) => {\n    console.log('RENDERING useSystem_Users');\n    const [value, setValue] = useState({ server: server, user: user, password: password, startingSesion: startingSesion, userData: undefined });\n\n    const handleValue = (property, v) => {\n        setValue({\n            ...value,\n            [property]: v\n        });\n    }\n\n    const manageCredentials = async (credentials) => {\n        const userData = await callSystem_Users(value.server, credentials.user, credentials.password); \n        setValue({\n            ...value,\n            ['user']: credentials.user,\n            ['password']: credentials.password,\n            ['userData']: userData\n        });\n        \n        console.log(userData);\n        if(userData === undefined || userData.length === 0){\n            setValue({\n                ...value,\n                ['credentialsFail']: true,\n                ['credentialsFail2']: true,\n                ['buttonPushed']: true,\n            });\n        } else {\n            setValue({\n                ...value,\n                ['credentialsFail']: false,\n                ['credentialsFail2']: false,\n                ['buttonPushed']: false,\n            });\n            window.location.href='./main';\n            console.log('LOGIN OKKKK');\n        }\n    }\n\n    return [ value, manageCredentials, handleValue ];\n}\n\n//OTHER FUNCTION\nconst callSystem_Users = async (server, user, password, startingSesion) => {\n    let userData = undefined;\n\n    console.log('***********************************');\n    console.log('DENTRO DE callSystem_Users');\n    console.log(`SERVER: ${server}`);\n    console.log(`USER: ${user}`);\n    console.log(`PASSWORD: ${password}`);\n    console.log(`STARTINGSESION: ${startingSesion}`);\n\n    if(user.length != 0 && password.length != 0) {\n        const md5Password = md5(password);\n        try{\n            const response = await fetch(`${server}/System_Users/${user}/${md5Password}`, {\n                //headers: {\n                    //'Content-Type': 'application/json',\n                //},\n                method: 'GET', \n                //mode: 'no-cors'\n            });\n            userData = await response.json();\n        } catch(error) {\n            console.error(error);\n        }\n    }\n\n    console.log('SALIENDO DE callSystem_Users');\n    console.log('***********************************');\n\n    return userData;\n}\n\nexport default useSystem_Users;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}